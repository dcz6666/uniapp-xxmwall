import{g as a,P as s,Q as l,s as e,o as t,c as i,w as u,a as o,I as n,h as d,j as r,F as c,r as p,i as m,m as g,e as v}from"./index.b2c3effc.js";import{_}from"./uni-load-more.2021b853.js";import{_ as f,g as y,h,i as j,j as w,k,o as L,a as b,r as x}from"./apis.37d090a4.js";var z=f({__name:"classlist",setup(f){const z=a([]),C=a(!1),F={pageNum:1,pageSize:12};let I;y((a=>{let{id:l=null,name:e=null,type:t=null}=a;t&&(F.type=t),l&&(F.classid=l),I=e,s({title:e}),N()})),h((()=>{l("storgClassList")})),j((()=>{C.value||(F.pageNum++,N())}));const N=async()=>{let a;F.classid&&(a=await w(F)),F.type&&(a=await k(F)),z.value=[...z.value,...a.data],F.pageSize>a.data.length&&(C.value=!0),e("storgClassList",z.value)};return L((a=>({title:"咸虾米壁纸-"+I,path:"/pages/classlist/classlist?id="+F.classid+"&name="+I}))),b((()=>({title:"咸虾米壁纸-"+I,query:"id="+F.classid+"&name="+I}))),(a,s)=>{const l=x(p("uni-load-more"),_),e=m,f=g,y=v;return t(),i(e,{class:"classlist"},{default:u((()=>[z.value.length||C.value?n("",!0):(t(),i(e,{key:0,class:"loadingLayout"},{default:u((()=>[o(l,{status:"loading"})])),_:1})),o(e,{class:"content"},{default:u((()=>[(t(!0),d(c,null,r(z.value,(a=>(t(),i(y,{url:"/pages/preview/preview?id="+a._id,class:"item",key:a._id},{default:u((()=>[o(f,{src:a.smallPicurl,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["url"])))),128))])),_:1}),z.value.length||C.value?(t(),i(e,{key:1,class:"loadingLayout"},{default:u((()=>[o(l,{status:C.value?"noMore":"loading"},null,8,["status"])])),_:1})):n("",!0),o(e,{class:"safe-area-inset-bottom"})])),_:1})}}},[["__scopeId","data-v-aa207920"]]);export{z as default};
